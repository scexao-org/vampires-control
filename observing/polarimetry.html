<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Polarimetry &mdash; VAMPIRES Control</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=01f34227"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Calibration Procedures" href="calibrations.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            vampires_control
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#using-pip">Using <code class="docutils literal notranslate"><span class="pre">pip</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#from-source">From Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html#navigating-the-documentation">Navigating the Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#operating-vampires">Operating VAMPIRES</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#procedures">Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#observing-with-vampires">Observing with VAMPIRES</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html#code-examples">Code Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#python-example">1. Python example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#command-line">2. Command line</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html#faq">FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API/Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/environment_variables.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/api.html">API/Reference</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Operating VAMPIRES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../operating/layout.html">Instrument Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operating/cameras.html">Cameras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operating/cameras.html#initialization-and-viewers">Initialization and Viewers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#vcam1-and-vcam2">VCAM1 and VCAM2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#vpupcam">VPUPCAM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operating/cameras.html#detector-readout-modes">Detector Readout Modes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#photon-transfer-curves">Photon Transfer Curves</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operating/cameras.html#detector-astrometric-solution">Detector Astrometric Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/cameras.html#camera-crops">Camera Crops</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#standard">Standard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#mbi">MBI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#mbi-reduced">MBI Reduced</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#pupil">Pupil</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operating/cameras.html#exposure-time">Exposure time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/cameras.html#camera-triggering">Camera Triggering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#aflc-disabled">AFLC Disabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operating/cameras.html#aflc-enabled">AFLC Enabled</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operating/cameras.html#crop-location-and-mbi-hotspots">Crop location and MBI hotspots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/cameras.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operating/viewers.html">Camera Viewers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operating/viewers.html#vcam1-and-vcam2">VCAM1 and VCAM2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/viewers.html#vpupcam">VPUPCAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/viewers.html#others">Others</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/viewers.html#faq">FAQ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operating/viewers.html#the-crop-is-all-weird">1. The crop is all weird!</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operating/viewers.html#the-cameras-froze">2. The cameras froze!</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operating/coronagraphs.html">Coronagraphs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operating/coronagraphs.html#focal-plane-masks">Focal Plane Masks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/coronagraphs.html#lyot-stops">Lyot Stops</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operating/coronagraphs.html#advanced-details">Advanced Details</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operating/devices.html">Device Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#interacting-with-devices">Interacting with devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#filters">Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#field-stop-focal-plane-mask">Field Stop / Focal Plane Mask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#mask-wheel">Mask Wheel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#differential-wheel">Differential Wheel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#beamsplitter-wheel">Beamsplitter Wheel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#mbi-wheel">MBI Wheel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#focus-stages">Focus Stages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#aflc-stage">AFLC Stage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/devices.html#qwps">QWPs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operating/data.html">Data Acquisition</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operating/data.html#data-flowchart">Data Flowchart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operating/data.html#logging-fits-files">Logging FITS files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operating/data.html#option-1-using-vampires-scripts">Option 1: Using VAMPIRES scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operating/data.html#option-2-directly-using-fpsctrl">Option 2: Directly using fpsCTRL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operating/data.html#watching-fits-files">Watching FITS files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operating/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Procedures</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../procedures/autofocus.html">Autofocusing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../procedures/autofocus.html#standard-procedure">Standard procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/autofocus.html#narrowband-filters">Narrowband filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/autofocus.html#visible-bench-pickoffs">Visible bench pickoffs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/autofocus.html#single-cam-focus-no-beamsplitter">Single-cam focus (no beamsplitter)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/autofocus.html#pupil-mode">Pupil mode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../procedures/coronagraphs.html">Coronagraph Alignment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../procedures/coronagraphs.html#focal-plane-mask-aligment">Focal plane mask aligment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/coronagraphs.html#lyot-stop-alignment">Lyot stop alignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/coronagraphs.html#advanced-focusing">(Advanced) Focusing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../procedures/coronagraphs.html#autofocusing">Autofocusing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../procedures/mbi.html">Multiband Imaging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../procedures/mbi.html#inserting">Inserting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/mbi.html#removing">Removing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/mbi.html#mbi-reduced">MBI Reduced</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/mbi.html#advanced-mbi-hotspotting">(Advanced) MBI Hotspotting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../procedures/data.html">Post-observing Data Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../procedures/data.html#synchronization-and-consolidation">Synchronization and Consolidation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/data.html#frame-ids">Frame IDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/data.html#compression">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../procedures/data.html#creating-manifest-and-uploading-to-stars2">Creating Manifest and Uploading to STARS2</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Observing with VAMPIRES</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="calibrations.html">Calibration Procedures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="calibrations.html#nightly-pre-observing-calibrations">Nightly / Pre-observing Calibrations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="calibrations.html#flat-frames">Flat frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="calibrations.html#pinhole-frames">Pinhole frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="calibrations.html#dark-frames">Dark frames</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="calibrations.html#post-observing-calibrations">Post-observing Calibrations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="calibrations.html#id1">Dark frames</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="calibrations.html#on-sky-calibrations">On-sky Calibrations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="calibrations.html#sky-frames">Sky Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="calibrations.html#photometric-standards">Photometric Standards</a></li>
<li class="toctree-l3"><a class="reference internal" href="calibrations.html#astrometric-standards">Astrometric Standards</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Polarimetry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup-slow-mode">Setup: Slow Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-fast-mode">Setup: Fast Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#operating">Operating</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#triggering">Triggering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hwp-modulation">HWP Modulation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#teardown">Teardown</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">vampires_control</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Polarimetry</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/observing/polarimetry.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="polarimetry">
<h1>Polarimetry<a class="headerlink" href="#polarimetry" title="Link to this heading"></a></h1>
<p>There are two polarimetry modes supported by VAMPIRES</p>
<ul class="simple">
<li><p>“SLOW” mode, which uses the facility HWP, only (double-difference)</p></li>
<li><p>“FAST” mode, which uses the achromatic FLC and the facility HWP (triple-difference)</p></li>
</ul>
<p>Both modes have been tested, successfully, on sky. Using FAST mode should theoretically allow better cancellation of fast atmospheric speckles, but at the cost of some overhead, slightly lower throughput, and more complex data-analysis. Furthermore, the FLC cannot be used for exposure times longer than 1 second, so long-exposure imaging should use “SLOW” mode.</p>
<section id="setup-slow-mode">
<span id="slow-pol"></span><h2>Setup: Slow Mode<a class="headerlink" href="#setup-slow-mode" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Set up the WPU
In the <code class="docutils literal notranslate"><span class="pre">garde</span></code> VNC find a terminal and launch the WPU</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>garde $ obsSTARTgen2sum
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Insert the HWP “Stage (1/2-Waveplate) -&gt; Select Operation -&gt; Move in -&gt; Move / Exec”</p></li>
<li><p>(Optional) Enable HWP ADI synchronization, if desired “Rotator (1/2-Waveplate) -&gt; Select Operation -&gt; Sync mode ADI -&gt; Move / Exec”</p></li>
</ol>
<p>After the WPU is set up, make sure VAMPIRES is prepared for dual-cam imaging using the polarizing beamsplitter</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ vampires_bs pbs
$ vampires_focus standard
$ vampires_camfocus dual
</pre></div>
</div>
<p>There is no difference between standard and MBI imaging- follow <a class="reference internal" href="../procedures/mbi.html#mbi"><span class="std std-ref">the MBI instructions</span></a> for instructions.</p>
<p>Make sure the QWP daemon is running, too!</p>
</section>
<section id="setup-fast-mode">
<h2>Setup: Fast Mode<a class="headerlink" href="#setup-fast-mode" title="Link to this heading"></a></h2>
<p>All of the setup procedures are the same as <a class="reference internal" href="#slow-pol"><span class="std std-ref">slow mode</span></a>, with the additional requirements to set up the FLC</p>
<ol class="arabic simple">
<li><p>Insert the FLC</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ vampires_flc in
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Prepare the VAMPIRES trigger</p></li>
</ol>
<p>If the detector is in FAST readout mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ vampires_trig set -j 50 -f
</pre></div>
</div>
<p>else, if the detector is in SLOW readout mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ vampires_trig set -j 500 -f
</pre></div>
</div>
<p>The FLC will start switching as soon as the <code class="docutils literal notranslate"><span class="pre">-f</span></code> flag is enabled, even if the micro-controller is not enabled for triggering. You can confirm the switching by inserting the SCExAO polarizer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>scexao2 $ polarizer
</pre></div>
</div>
<p>if you don’t see obvious switching, the FLC controller may have lost power (rare, but has happened). This requires manually checking the box and power switch at the summit. Don’t forget to remove the polarizer afterwards!</p>
</section>
<section id="operating">
<h2>Operating<a class="headerlink" href="#operating" title="Link to this heading"></a></h2>
<p>At this point you need to prepare both cameras for <a class="reference internal" href="../operating/data.html#logging"><span class="std std-ref">logging</span></a>. If the fpsCTRL process is not running, the acquisition daemon <strong>will not save any data</strong> without showing any errors.</p>
<section id="triggering">
<h3>Triggering<a class="headerlink" href="#triggering" title="Link to this heading"></a></h3>
<p>VAMPIRES needs to use an external hardware trigger to ensure both cameras acquire frames simultaneously. <strong>If triggering is not enabled, the data will not be reducible.</strong> If triggering is not enabled, the post-observing data management procedure will fail to deinterleave FLC states, too.</p>
<p>To prepare the <a class="reference internal" href="../operating/cameras.html#trigger"><span class="std std-ref">camera trigger</span></a> use the VCAM1 or VCAM2 camera viewers</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CTRL</span> <span class="o">+</span> <span class="n">E</span>        <span class="n">Enable</span> <span class="n">camera</span> <span class="n">external</span> <span class="n">trigger</span> <span class="n">mode</span>
<span class="n">CTRL</span> <span class="o">+</span> <span class="n">T</span>        <span class="n">Enable</span> <span class="n">micro</span><span class="o">-</span><span class="n">controller</span>
</pre></div>
</div>
<p>to stop triggering, use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHIFT</span> <span class="o">+</span> <span class="n">T</span>       <span class="n">Disable</span> <span class="n">micro</span><span class="o">-</span><span class="n">controller</span>
</pre></div>
</div>
<p>and to switch back to internal camera triggers</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHIFT</span> <span class="o">+</span> <span class="n">E</span>       <span class="n">Disable</span> <span class="n">camera</span> <span class="n">external</span> <span class="n">trigger</span> <span class="n">mode</span>
</pre></div>
</div>
</section>
<section id="hwp-modulation">
<h3>HWP Modulation<a class="headerlink" href="#hwp-modulation" title="Link to this heading"></a></h3>
<p>The WPU HWP is modulated using the <code class="docutils literal notranslate"><span class="pre">hwpsync</span></code> script. There are two primary modes- one which synchronizes the HWP rotation to CHARIS frames, and one which synchronizes to a timer. Obviously, if you are not using CHARIS you will have to use the timer, and if you are using CHARIS you will need to sync to the CHARIS frames.</p>
<div class="tip admonition">
<p class="admonition-title">Picking times and cube sizes</p>
<p>We want to switch the HWP as fast as possible without significant losses in duty cycle from signalling overheads and HWP rotation delays. In addition, we want to avoid the field rotating significantly during a single HWP cycle (four HWP positions). This is important for coronagraphic observations since the satellite spots will rotate and will not cancel out as efficiently. Depending on the declination of the target and the rotation requirements, we recommend switching the HWP at least once every 60 seconds.</p>
<p>When synchronizing to CHARIS, usually the CHARIS exposure time is sufficiently long for syncing with the HWP. If taking short, 5 second exposures you can opt to take two or three CHARIS frames per HWP angle to slightly improve observing efficiency.</p>
<p>When not synchronizing to CHARIS, I usually opt to switch the HWP every 10-60 seconds, depending on my framerate. In an ideal world, there is only one VAMPIRES data cube per HWP angle, so if you’re taking data at 10 Hz with 250 frames per cube, you can set the timer to ~20 seconds– the FITS logger will truncate a cube if it is told to stop logging before a full cube has been acquired, and  it’s better to truncate a cube slightly smaller than to overflow and end up with many cubes with only a few frames over the night. If you’re taking data at high-framerates this cannot be avoided.</p>
</div>
<section id="charis-synchronization">
<h4>CHARIS Synchronization<a class="headerlink" href="#charis-synchronization" title="Link to this heading"></a></h4>
<p>So, if synchronizing to CHARIS, make sure all the loggers are set up with an appropriate number of frames per cube based on the CHARIS exposure time. Then launch the HWP daemon with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>scexao2 $ hwpsync cv[f]
</pre></div>
</div>
<p>where the <code class="docutils literal notranslate"><span class="pre">c</span></code> stands for CHARIS and the <code class="docutils literal notranslate"><span class="pre">v</span></code> stands for VAMPIRES. If using FastPDI, also add an <code class="docutils literal notranslate"><span class="pre">f</span></code>. To change the number of CHARIS frames per HWP position, use the <code class="docutils literal notranslate"><span class="pre">-n</span></code> flag.</p>
<div class="admonition-charis-timing admonition">
<p class="admonition-title">CHARIS timing</p>
<p>Because <code class="docutils literal notranslate"><span class="pre">hwpsync</span></code> will move the HWP when started, you should wait to start the CHARIS exposures until right after the HWP is settled (about a second, depending on where it was, previously). Because VAMPIRES (and FastPDI) wait for the <em>end</em> of the CHARIS frame for signalling, there is no issue with starting their exposures before the CHARIS exposure.</p>
</div>
</section>
<section id="timer-synchronization">
<h4>Timer Synchronization<a class="headerlink" href="#timer-synchronization" title="Link to this heading"></a></h4>
<p>Alternatively, a timer can be specified (in seconds) using VAMPIRES (<code class="docutils literal notranslate"><span class="pre">v</span></code>) and FastPDI (<code class="docutils literal notranslate"><span class="pre">f</span></code>)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>scexao2 $ hwpsync v[f] -t 20
</pre></div>
</div>
<p>Note: if you <code class="docutils literal notranslate"><span class="pre">CTRL</span> <span class="pre">+</span> <span class="pre">C</span></code> this script, it will stop all logging before exiting, so don’t spam it!</p>
</section>
</section>
</section>
<section id="teardown">
<h2>Teardown<a class="headerlink" href="#teardown" title="Link to this heading"></a></h2>
<p>When closing up make sure to remove the WPU HWP</p>
<ol class="arabic simple">
<li><p>“Rotator (1/2-Waveplate) -&gt; reset -&gt; Move / Exec”</p></li>
<li><p>“Stage  (1/2-Waveplate) -&gt; Select Operation -&gt; Move out -&gt; Move / Exec”</p></li>
</ol>
<p>then shut down the WPU</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>garde $ stopOBS
</pre></div>
</div>
<p>If the VAMPIRES FLC was used, it should be removed as well</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ vampires_flc out
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calibrations.html" class="btn btn-neutral float-left" title="Calibration Procedures" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, 2023, 2024, Miles Lucas.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>